# ===== BLACKJACK CASINO - ENVIRONMENT CONFIGURATION =====
# Copy this file to .env and fill in your actual values

# ===== ОСНОВНАЯ КОНФИГУРАЦИЯ =====
NODE_ENV=production
PORT=3000

# ===== БЕЗОПАСНОСТЬ =====
# JWT secret для подписи токенов (использовать сильный случайный ключ)
JWT_SECRET=replace-with-strong-secret-minimum-32-characters

# ===== БАЗА ДАННЫХ =====
# PostgreSQL строка подключения
DATABASE_URL=postgresql://username:password@localhost:5432/blackjack_casino_production

# ===== REDIS =====
# Redis для очередей и кеширования
REDIS_URL=redis://localhost:6379

# ===== TELEGRAM КОНФИГУРАЦИЯ =====
# Bot token от @BotFather
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
# Provider token для Telegram Stars (оставить пустым для цифровых товаров)
TELEGRAM_PROVIDER_TOKEN=your_telegram_provider_token

# ===== АДМИНИСТРАТИВНЫЙ ДОСТУП =====
# Telegram ID администраторов (через запятую)
ADMIN_TELEGRAM_IDS=123456789,987654321
# Пароль для входа в админ панель
ADMIN_PANEL_SECRET=set-strong-password

# ===== CRYPTOMUS ПЛАТЕЖИ =====
# Merchant ID и API ключ от Cryptomus
CRYPTOMUS_MERCHANT_ID=your_cryptomus_merchant_id
CRYPTOMUS_API_KEY=your_cryptomus_api_key
# URL для Cryptomus API (по умолчанию используются стандартные)
CRYPTOMUS_PAYMENT_URL=https://api.cryptomus.com/v1/payment
CRYPTOMUS_STATUS_URL=https://api.cryptomus.com/v1/payment/info
# Webhook URL для уведомлений от Cryptomus
CRYPTOMUS_WEBHOOK_URL=https://yourdomain.com/api/payments/cryptomus/webhook

# ===== БЕЗОПАСНОСТЬ API =====
# Лимит запросов в минуту на IP
REQUEST_LIMIT_PER_MINUTE=120
# Whitelist IP адресов (через запятую, опционально)
IP_WHITELIST=

# ===== ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ ДЛЯ PM2 =====
# Эти переменные используются в ecosystem.config.js для workers
# но основная логика настраивается через админ панель

# Telegram webhook URL для production
TELEGRAM_WEBHOOK_URL=https://yourdomain.com/api/telegram/webhook

# Настройки игры (используются в PM2, но могут быть переопределены в админке)
HOUSE_EDGE=0.005
MAX_BET=1000
MIN_BET=10

# Настройки антифрода (используются в PM2, основная логика в админке)
VELOCITY_LIMIT_GAMES_PER_HOUR=100
DAILY_PROFIT_LIMIT=10000

# Настройки crypto батчинга (используются в PM2, основная логика в админке)
CRYPTO_BATCH_SIZE=10
CRYPTO_BATCH_INTERVAL_MINUTES=60
CRYPTO_AUTO_APPROVAL_THRESHOLD=100
CRYPTO_URGENT_FEE_MULTIPLIER=2.0

# ===== ТЕСТИРОВАНИЕ =====
# Для тестов (опционально)
TEST_DATABASE_URL=postgresql://username:password@localhost:5432/blackjack_casino_test
KNEX_ENV=test
